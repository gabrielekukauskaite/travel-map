/* Book container */
.book {
  transform-style: preserve-3d;
  position: relative;
  height: 100px;
  width: 70px;
  cursor: pointer;
  backface-visibility: visible;
  transition: transform 0.5s ease-in-out;
  transform-origin: 100% 100%;
}

.front {
  z-index: 1;
}

/* All pages and covers */
.front,
.back,
.page1,
.page2,
.page3,
.page4,
.page5,
.page6 {
  transform-style: preserve-3d;
  position: absolute;
  width: 70px;
  height: 100%;
  top: 0;
  left: 0;
  transform-origin: left center;
  border-bottom-right-radius: 0.5em;
  border-top-right-radius: 0.5em;
  transition:
    transform 0.5s ease-in-out,
    box-shadow 0.35s ease-in-out;
}
.page1,
.page2,
.page3,
.page4,
.page5,
.page6 {
  height: 95%;
  width: 65px;
  align-self: anchor-center;
  border-left: 1px dashed var(--gray);
  border-right: 1px solid var(--gold-border-translucent);
}

/* Cover styling - vintage leather */
.front,
.back {
  background: linear-gradient(
    135deg,
    var(--brown-medium) 0%,
    var(--brown-medium) 25%,
    var(--brown-dark) 50%,
    var(--brown-medium) 75%,
    var(--brown-medium) 100%
  );
  box-shadow: inset 0 0 20px var(--shadow-dark);
}

/* Page colors - vintage aged paper */
.page1,
.page6 {
  background: var(--page-1);
}

.page2,
.page4 {
  background: var(--page-2);
}

.page5 {
  background: var(--page-3);
}

.page6 {
  background: var(--page-4);
}

/* Closed state */
.book:not(.open) .front,
.book:not(.open) .back,
.book:not(.open) .page1,
.book:not(.open) .page2,
.book:not(.open) .page3,
.book:not(.open) .page4,
.book:not(.open) .page5,
.book:not(.open) .page6 {
  transform: rotateY(0deg);
  box-shadow: none;
}

/* Open state - scale book and flip pages */
.book.open {
  transform: scale(3);
}

.book.open .front {
  transform: rotateY(-180deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

.book.open .page1 {
  transform: rotateY(-170deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

.book.open .page2 {
  transform: rotateY(-160deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

.book.open .page3 {
  transform: rotateY(-150deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

.book.open .page4 {
  transform: rotateY(-30deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

.book.open .page5 {
  transform: rotateY(-20deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

.book.open .page6 {
  transform: rotateY(-1deg);
  box-shadow: 0 1em 3em 0 var(--shadow-medium);
}

/* .book.open .back {
  transform: rotateY(-5deg);
} */

/* Passport cover text and icon */
.passport-text {
  backface-visibility: hidden;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: var(--gold-primary);
  font-family: "Times New Roman", serif;
  text-shadow: 1px 1px 2px var(--shadow-darker);
}

.globe-icon {
  font-size: 24px;
  margin-bottom: 4px;
  filter: drop-shadow(1px 1px 2px var(--shadow-dark));
}

.passport-label {
  font-size: 10px;
  font-weight: bold;
  letter-spacing: 2px;
  color: var(--gold-primary);
}

/* Design 6: Retro Square with Corner Cuts */
.flag-stamp {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: 4px;
  background: var(--page-5);
  border: 1.5px solid var(--gold-border-dark);
  clip-path: polygon(
    3px 0,
    calc(100% - 3px) 0,
    100% 3px,
    100% calc(100% - 3px),
    calc(100% - 3px) 100%,
    3px 100%,
    0 calc(100% - 3px),
    0 3px
  );
  box-shadow:
    0 1px 3px var(--shadow-medium),
    inset 0 0 2px var(--gold-inset);
  cursor: pointer;
  transition: all 0.2s ease;
}

.flag-stamp img {
  width: 16px;
  height: 12px;
  border: 1px solid var(--gold-border-medium);
  box-shadow: 0 1px 2px var(--shadow-light);
}

.flag-stamp span {
  font-size: 3.5px;
  font-weight: 800;
  color: var(--brown-dark-leather);
  text-transform: uppercase;
  letter-spacing: 0.4px;
  background: linear-gradient(
    90deg,
    var(--brown-dark-leather) 0%,
    var(--brown-warm) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Prevent stamps from flipping on back side of pages */
.page1 .flag-stamp,
.page3 .flag-stamp,
.page5 .flag-stamp {
  transform: rotateY(180deg);
}

/* Flipped page states - when user clicks to flip pages */
.book.open .page1.flipped {
  transform: rotateY(-10deg);
  cursor: pointer;
}

.book.open .page2.flipped {
  transform: rotateY(-20deg);
  cursor: pointer;
}

.book.open .page3.flipped {
  transform: rotateY(-30deg);
  cursor: pointer;
}

.book.open .page4.flipped {
  transform: rotateY(-145deg);
  cursor: pointer;
}

.book.open .page5.flipped {
  transform: rotateY(-160deg);
  cursor: pointer;
}

.book.open .page6.flipped {
  transform: rotateY(-170deg);
  cursor: pointer;
}

/* Add cursor pointer to clickable pages when open (not first and last) */
.book.open .page2,
.book.open .page3,
.book.open .page4,
.book.open .page5 {
  cursor: pointer;
}
